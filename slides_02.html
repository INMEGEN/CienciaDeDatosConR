<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Primeras exploraciones:</title>
    <meta charset="utf-8" />
    <meta name="author" content="Guillermo de Anda-Jáuregui y Laura Gómez-Romero" />
    <meta name="date" content="2022-01-01" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Primeras exploraciones:
## Importando y limpiando datos
### Guillermo de Anda-Jáuregui y Laura Gómez-Romero
### Instituto Nacional de Medicina Genómica
### 2022

---


class: inverse, center

# Problema

Distinguir entre:

&lt;img src="https://upload.wikimedia.org/wikipedia/commons/5/56/Kosaciec_szczecinkowaty_Iris_setosa.jpg" alt="Kosaciec szczecinkowaty Iris setosa.jpg", height="200"&gt; &lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Iris_versicolor_3.jpg/1200px-Iris_versicolor_3.jpg" alt="Iris versicolor 3.jpg" height="200"&gt;&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Iris_virginica.jpg/1200px-Iris_virginica.jpg" alt="Iris virginica.jpg"height="200"&gt;

--

*Iris dataset*
.right[*Fisher, Anderson 1936*]
---
class: inverse, center, middle


```
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
```
--

![](slides_02_files/figure-html/unnamed-chunk-2-1.png)&lt;!-- --&gt;

---
class: inverse, center

# Leyendo datos tabulares

.left[
- *Iris* es un conjunto de datos que viene por default en R...
- Para el ejercicio vamos a leer un archivo externo de *Iris*
]

-- 

# ¿Cómo leer?

.left[
###  Hay varias opciones...
]

---
class: inverse, center

# ¿Cómo leer?

&lt;img  src="figures/hex_lectura.png"&gt;

---
class: inverse

.center[## R base]

### - Entrada: archivo de texto 
### - Salida: un *data frame* 
## .center[Estructura tabular (rectangular), diferentes tipos de datos.]

---
class: inverse

.center[### R base]


```r
read.table(file = "data/iris_01.csv")
```

```
##                                                            V1
## 1   Sepal.Length,Sepal.Width,Petal.Length,Petal.Width,Species
## 2                                      5.1,3.5,1.4,0.2,setosa
## 3                                        4.9,3,1.4,0.2,setosa
## 4                                      4.7,3.2,1.3,0.2,setosa
## 5                                      4.6,3.1,1.5,0.2,setosa
## 6                                        5,3.6,1.4,0.2,setosa
## 7                                      5.4,3.9,1.7,0.4,setosa
## 8                                      4.6,3.4,1.4,0.3,setosa
## 9                                        5,3.4,1.5,0.2,setosa
## 10                                     4.4,2.9,1.4,0.2,setosa
## 11                                     4.9,3.1,1.5,0.1,setosa
## 12                                     5.4,3.7,1.5,0.2,setosa
## 13                                     4.8,3.4,1.6,0.2,setosa
## 14                                       4.8,3,1.4,0.1,setosa
## 15                                       4.3,3,1.1,0.1,setosa
## 16                                       5.8,4,1.2,0.2,setosa
## 17                                     5.7,4.4,1.5,0.4,setosa
## 18                                     5.4,3.9,1.3,0.4,setosa
## 19                                     5.1,3.5,1.4,0.3,setosa
## 20                                     5.7,3.8,1.7,0.3,setosa
## 21                                     5.1,3.8,1.5,0.3,setosa
## 22                                     5.4,3.4,1.7,0.2,setosa
## 23                                     5.1,3.7,1.5,0.4,setosa
## 24                                       4.6,3.6,1,0.2,setosa
## 25                                     5.1,3.3,1.7,0.5,setosa
## 26                                     4.8,3.4,1.9,0.2,setosa
## 27                                         5,3,1.6,0.2,setosa
## 28                                       5,3.4,1.6,0.4,setosa
## 29                                     5.2,3.5,1.5,0.2,setosa
## 30                                     5.2,3.4,1.4,0.2,setosa
## 31                                     4.7,3.2,1.6,0.2,setosa
## 32                                     4.8,3.1,1.6,0.2,setosa
## 33                                     5.4,3.4,1.5,0.4,setosa
## 34                                     5.2,4.1,1.5,0.1,setosa
## 35                                     5.5,4.2,1.4,0.2,setosa
## 36                                     4.9,3.1,1.5,0.2,setosa
## 37                                       5,3.2,1.2,0.2,setosa
## 38                                     5.5,3.5,1.3,0.2,setosa
## 39                                     4.9,3.6,1.4,0.1,setosa
## 40                                       4.4,3,1.3,0.2,setosa
## 41                                     5.1,3.4,1.5,0.2,setosa
## 42                                       5,3.5,1.3,0.3,setosa
## 43                                     4.5,2.3,1.3,0.3,setosa
## 44                                     4.4,3.2,1.3,0.2,setosa
## 45                                       5,3.5,1.6,0.6,setosa
## 46                                     5.1,3.8,1.9,0.4,setosa
## 47                                       4.8,3,1.4,0.3,setosa
## 48                                     5.1,3.8,1.6,0.2,setosa
## 49                                     4.6,3.2,1.4,0.2,setosa
## 50                                     5.3,3.7,1.5,0.2,setosa
## 51                                       5,3.3,1.4,0.2,setosa
## 52                                   7,3.2,4.7,1.4,versicolor
## 53                                 6.4,3.2,4.5,1.5,versicolor
## 54                                 6.9,3.1,4.9,1.5,versicolor
## 55                                   5.5,2.3,4,1.3,versicolor
## 56                                 6.5,2.8,4.6,1.5,versicolor
## 57                                 5.7,2.8,4.5,1.3,versicolor
## 58                                 6.3,3.3,4.7,1.6,versicolor
## 59                                   4.9,2.4,3.3,1,versicolor
## 60                                 6.6,2.9,4.6,1.3,versicolor
## 61                                 5.2,2.7,3.9,1.4,versicolor
## 62                                       5,2,3.5,1,versicolor
## 63                                   5.9,3,4.2,1.5,versicolor
## 64                                       6,2.2,4,1,versicolor
## 65                                 6.1,2.9,4.7,1.4,versicolor
## 66                                 5.6,2.9,3.6,1.3,versicolor
## 67                                 6.7,3.1,4.4,1.4,versicolor
## 68                                   5.6,3,4.5,1.5,versicolor
## 69                                   5.8,2.7,4.1,1,versicolor
## 70                                 6.2,2.2,4.5,1.5,versicolor
## 71                                 5.6,2.5,3.9,1.1,versicolor
## 72                                 5.9,3.2,4.8,1.8,versicolor
## 73                                   6.1,2.8,4,1.3,versicolor
## 74                                 6.3,2.5,4.9,1.5,versicolor
## 75                                 6.1,2.8,4.7,1.2,versicolor
## 76                                 6.4,2.9,4.3,1.3,versicolor
## 77                                   6.6,3,4.4,1.4,versicolor
## 78                                 6.8,2.8,4.8,1.4,versicolor
## 79                                     6.7,3,5,1.7,versicolor
## 80                                   6,2.9,4.5,1.5,versicolor
## 81                                   5.7,2.6,3.5,1,versicolor
## 82                                 5.5,2.4,3.8,1.1,versicolor
## 83                                   5.5,2.4,3.7,1,versicolor
## 84                                 5.8,2.7,3.9,1.2,versicolor
## 85                                   6,2.7,5.1,1.6,versicolor
## 86                                   5.4,3,4.5,1.5,versicolor
## 87                                   6,3.4,4.5,1.6,versicolor
## 88                                 6.7,3.1,4.7,1.5,versicolor
## 89                                 6.3,2.3,4.4,1.3,versicolor
## 90                                   5.6,3,4.1,1.3,versicolor
## 91                                   5.5,2.5,4,1.3,versicolor
## 92                                 5.5,2.6,4.4,1.2,versicolor
## 93                                   6.1,3,4.6,1.4,versicolor
## 94                                   5.8,2.6,4,1.2,versicolor
## 95                                     5,2.3,3.3,1,versicolor
## 96                                 5.6,2.7,4.2,1.3,versicolor
## 97                                   5.7,3,4.2,1.2,versicolor
## 98                                 5.7,2.9,4.2,1.3,versicolor
## 99                                 6.2,2.9,4.3,1.3,versicolor
## 100                                  5.1,2.5,3,1.1,versicolor
## 101                                5.7,2.8,4.1,1.3,versicolor
## 102                                   6.3,3.3,6,2.5,virginica
## 103                                 5.8,2.7,5.1,1.9,virginica
## 104                                   7.1,3,5.9,2.1,virginica
## 105                                 6.3,2.9,5.6,1.8,virginica
## 106                                   6.5,3,5.8,2.2,virginica
## 107                                   7.6,3,6.6,2.1,virginica
## 108                                 4.9,2.5,4.5,1.7,virginica
## 109                                 7.3,2.9,6.3,1.8,virginica
## 110                                 6.7,2.5,5.8,1.8,virginica
## 111                                 7.2,3.6,6.1,2.5,virginica
## 112                                   6.5,3.2,5.1,2,virginica
## 113                                 6.4,2.7,5.3,1.9,virginica
## 114                                   6.8,3,5.5,2.1,virginica
## 115                                     5.7,2.5,5,2,virginica
## 116                                 5.8,2.8,5.1,2.4,virginica
## 117                                 6.4,3.2,5.3,2.3,virginica
## 118                                   6.5,3,5.5,1.8,virginica
## 119                                 7.7,3.8,6.7,2.2,virginica
## 120                                 7.7,2.6,6.9,2.3,virginica
## 121                                     6,2.2,5,1.5,virginica
## 122                                 6.9,3.2,5.7,2.3,virginica
## 123                                   5.6,2.8,4.9,2,virginica
## 124                                   7.7,2.8,6.7,2,virginica
## 125                                 6.3,2.7,4.9,1.8,virginica
## 126                                 6.7,3.3,5.7,2.1,virginica
## 127                                   7.2,3.2,6,1.8,virginica
## 128                                 6.2,2.8,4.8,1.8,virginica
## 129                                   6.1,3,4.9,1.8,virginica
## 130                                 6.4,2.8,5.6,2.1,virginica
## 131                                   7.2,3,5.8,1.6,virginica
## 132                                 7.4,2.8,6.1,1.9,virginica
## 133                                   7.9,3.8,6.4,2,virginica
## 134                                 6.4,2.8,5.6,2.2,virginica
## 135                                 6.3,2.8,5.1,1.5,virginica
## 136                                 6.1,2.6,5.6,1.4,virginica
## 137                                   7.7,3,6.1,2.3,virginica
## 138                                 6.3,3.4,5.6,2.4,virginica
## 139                                 6.4,3.1,5.5,1.8,virginica
## 140                                     6,3,4.8,1.8,virginica
## 141                                 6.9,3.1,5.4,2.1,virginica
## 142                                 6.7,3.1,5.6,2.4,virginica
## 143                                 6.9,3.1,5.1,2.3,virginica
## 144                                 5.8,2.7,5.1,1.9,virginica
## 145                                 6.8,3.2,5.9,2.3,virginica
## 146                                 6.7,3.3,5.7,2.5,virginica
## 147                                   6.7,3,5.2,2.3,virginica
## 148                                   6.3,2.5,5,1.9,virginica
## 149                                     6.5,3,5.2,2,virginica
## 150                                 6.2,3.4,5.4,2.3,virginica
## 151                                   5.9,3,5.1,1.8,virginica
```

---
class: inverse, center, middle

# Oh, Oh!

---
class: inverse, center, middle


```r
read.table(file = "data/iris_01.csv", #el archivo
           header = , #¿tiene cabezal?
           sep = ,  #¿cuál separador?
           quote = , #¿Valores con comillas?
           #nombres de ... 
           row.names = , #renglones
           col.names = , #columnas
           #renglones que no se leen...
           skip  = #al principio
           nrows = #cuantos leer despues
           #y el famoso   
           stringsAsFactors = #...
           )
```
--
### Un breve paréntesis... 

---
class: inverse

#Tipos de datos en R
## Ordenados de menos a más flexible:
.left[## - Lógico]

```r
my_logic = c(TRUE, TRUE, FALSE)
my_logic
```

```
## [1]  TRUE  TRUE FALSE
```

```r
typeof(my_logic)
```

```
## [1] "logical"
```

---
class: inverse

#Tipos de datos en R
## Ordenados de menos a más flexible:
.left[## - Entero]

```r
my_integer = c(7L, 2L, 5L)
my_integer
```

```
## [1] 7 2 5
```

```r
typeof(my_integer)
```

```
## [1] "integer"
```
---
class: inverse

#Tipos de datos en R
## Ordenados de menos a más flexible:
.left[## - Doble]

```r
my_double = c(7.25, 3, 14)
my_double
```

```
## [1]  7.25  3.00 14.00
```

```r
typeof(my_double)
```

```
## [1] "double"
```
---
class: inverse

#Tipos de datos en R
## Ordenados de menos a más flexible:
.left[## - "Caracter"]

```r
my_char = c("Esto", "Es", "1", "de", "muchos", "textos", "TRUE")
my_char
```

```
## [1] "Esto"   "Es"     "1"      "de"     "muchos" "textos" "TRUE"
```

```r
typeof(my_char)
```

```
## [1] "character"
```
---
class: inverse

# Los temidos factores

- Los factores son vectores atómicos que contienen **valores predefinidos** 

- Permiten almacenar variables categóricas



```r
my_factor &lt;- factor(c("interno", "externo", "externo", "interno"))
my_factor
```

```
## [1] interno externo externo interno
## Levels: externo interno
```

```r
levels(my_factor)
```

```
## [1] "externo" "interno"
```

```r
class(my_factor)
```

```
## [1] "factor"
```
---
class: inverse

# Los temidos factores

- Los factores son en realidad numéricos


```r
typeof(my_factor)
```

```
## [1] "integer"
```

```r
as.numeric(my_factor)
```

```
## [1] 2 1 1 2
```

--
.center[# Más adelante aprenderemos a manipular factores ]

---
class: inverse, middle, center

Intentémoslo de nuevo

---
class: inverse, middle, center


```r
my_iris &lt;- 
read.table(file = "data/iris_01.csv", #el archivo
           header = TRUE, #¿tiene cabezal?
           sep = ",",  #¿cuál separador?
           stringsAsFactors = TRUE#...
           )

head(my_iris)
```

```
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
```

---
class: inverse, middle, center

### Veamos nuestros datos


```r
str(my_iris)
```

```
## 'data.frame':	150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...
```

---
class: inverse, middle, center

### Veamos nuestros datos


```r
summary(my_iris)
```

```
##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## 
```

---
class: inverse, middle, center

### Veamos nuestros datos


```r
boxplot(my_iris)
```

![](slides_02_files/figure-html/unnamed-chunk-14-1.png)&lt;!-- --&gt;


---
class: inverse, middle, center

### Veamos nuestros datos


```r
pairs(my_iris)
```

![](slides_02_files/figure-html/unnamed-chunk-15-1.png)&lt;!-- --&gt;

---
class: inverse, middle, center

### Tratemos de ver si se separan ... 


```r
my_iris %&gt;% 
ggplot(aes(x = Petal.Length, 
           y = Sepal.Length, 
           colour = Species)) + 
  geom_point() +
  ggtitle('Especies de Iris', 
          subtitle = "por longitud de pétalo y sépalo")
```
**Nota: el código para graficar con ggplot lo revisaremos con más detalle durante el curso**
- Noten el uso de %&gt;% ... este es el operador *pipe* del paquete magrittr; lo usaremos mucho 
---
class: inverse, middle, center

### Tratemos de ver si se separan ... 

![](slides_02_files/figure-html/unnamed-chunk-17-1.png)&lt;!-- --&gt;

---
class: inverse, middle, center

# ¿Dudas?

---
class: inverse, middle, center

# Ejercicio: mtcars

&lt;img src="figures/mtcars_photos.jpg", height="320"&gt;

---
class: inverse, middle, center

# Ejercicio: mtcars


```r
mtcars %&gt;% head
```

```
##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1
```

---
class: inverse

# Ejercicio: mtcars

## 1) ¿Cuántas variables y observaciones tiene el conjunto de datos mtcars?

## 2) Encuentre una pareja de variables tales que los autos se separen por el número de cilindros (cyl)

--

### Pistas: 

- Considere usar las funciones dim, ncol, nrow

- Si quiero agrupar por una variable, me conviene que esa variable sea un factor; si no lo es, as.factor puede convertirla...

---
class: inverse, center

# Leer con Readr

&lt;img src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/readr.png", height = "90"&gt;

.left[ 
### El paquete Readr permite leer muchos tipos de datos rectangulares

- read_delim : datos delimitados (cualquier separador)

- read_csv   : datos separados por comas

- read_tsv   : datos separados por tabuladores

- read_table : datos separados por espacio en blanco (espacios, tabs...)
]

---
class: inverse, center

# Leer con Readr

## Ejemplo 


```r
my_iris_tbl &lt;- 
readr::read_csv(file = "data/iris_01.csv")
```

```
## Rows: 150 Columns: 5
```

```
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: ","
## chr (1): Species
## dbl (4): Sepal.Length, Sepal.Width, Petal.Length, Petal.Width
```

```
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
```

--

# ¡Readr tomo varias decisiones por nosotros!

---
class: inverse, center, middle

## Veamos como se ve *my_iris_tbl*

---
class: inverse, center


```r
my_iris_tbl
```

```
## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows
```

-- 

### ¡Se ve diferente! 

--

### ¿Qué son esas notas ahí? 

---
class: inverse, center

# Tibbles

&lt;img src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/tibble.png", height = "90"&gt;

.left[
### Una versión más moderna del data.frame... con algunas ventajas]

--

.left[
### --&gt; print más limpio: 
#### - Solo algunos renglones (no necesitamos head) 
#### - Indica dimensiones y tipo de variables (no necesitamos str, dim)

]

---
class: inverse, center

# Tibbles

&lt;img src="https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/tibble.png", height = "90"&gt;

.left[
### --&gt; No obliga a que los strings sean factores por default
### --&gt; No usa rownames (y eso es *algo bueno*)

]

---
class: inverse, center

# Los tibbles pueden hacer todo lo que los data frames tradicionales


```r
my_iris_tbl %&gt;% str
```

```
## spec_tbl_df [150 × 5] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : chr [1:150] "setosa" "setosa" "setosa" "setosa" ...
##  - attr(*, "spec")=
##   .. cols(
##   ..   Sepal.Length = col_double(),
##   ..   Sepal.Width = col_double(),
##   ..   Petal.Length = col_double(),
##   ..   Petal.Width = col_double(),
##   ..   Species = col_character()
##   .. )
##  - attr(*, "problems")=&lt;externalptr&gt;
```

---
class: inverse, center

# ¡Pero cuidado! Los métodos de tibble NO adivinan cosas como los de base 


```r
my_iris_tbl %&gt;% boxplot()
```

```
## Error in x[floor(d)] + x[ceiling(d)]: non-numeric argument to binary operator
```

### ... y eso es *algo bueno*

--

### Pregunta: ¿Por qué falló ese boxplot? ¿Cómo solucionarlo?

---
class: inverse, center

# data.table

&lt;img src="figures/hex_datatable.png", height = "90"&gt;

### - El paquete data.table está orientado a **big data**

### - Es una filosofía *distinta* a la de Tidy; inspirada en SQL 

### - Bastante más rápido; sintaxis es más *espartana*

---
class: inverse, center

# data.table


```r
my_iris_dt = data.table::fread(input = "data/iris_01.csv")
my_iris_dt
```

```
##      Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
##   1:          5.1         3.5          1.4         0.2    setosa
##   2:          4.9         3.0          1.4         0.2    setosa
##   3:          4.7         3.2          1.3         0.2    setosa
##   4:          4.6         3.1          1.5         0.2    setosa
##   5:          5.0         3.6          1.4         0.2    setosa
##  ---                                                            
## 146:          6.7         3.0          5.2         2.3 virginica
## 147:          6.3         2.5          5.0         1.9 virginica
## 148:          6.5         3.0          5.2         2.0 virginica
## 149:          6.2         3.4          5.4         2.3 virginica
## 150:          5.9         3.0          5.1         1.8 virginica
```

---
class: inverse, center

# data.table


```r
my_iris_dt %&gt;% str
```

```
## Classes 'data.table' and 'data.frame':	150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : chr  "setosa" "setosa" "setosa" "setosa" ...
##  - attr(*, ".internal.selfref")=&lt;externalptr&gt;
```

---
class: inverse, center

# Vroom 

## ¡Lo mejor de dos mundos!

.left[
### - Súper rápido
### - Eficiente con la memoria
### - Devuelve tibbles --&gt; tidy
]

---
class: inverse, center

# Vroom 

## ¡Lo mejor de dos mundos!


```r
my_iris_vroom = vroom::vroom(file = "data/iris_01.csv")
```

```
## Rows: 150 Columns: 5
```

```
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: ","
## chr (1): Species
## dbl (4): Sepal.Length, Sepal.Width, Petal.Length, Petal.Width
```

```
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
```

---
class: inverse, center

# Vroom 

## ¡Lo mejor de dos mundos!


```r
my_iris_vroom
```

```
## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows
```

---
class: inverse, center

### ¿Qué otros paquetes podría necesitar?

#  ¡Datos de Excel! 

-- 

## **readxl** 

---
class: inverse, center

# readxl 

.left[
### Este paquete leer datos de Excel, en diferentes formatos (xls, xlsx...)
]

---
class: inverse, center

# readxl 


```r
readxl::read_xlsx(path = "data/datasets_clasicos.xlsx")
```

```
## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows
```

-- 
### ¿Qué tal si tengo más de una hoja? 


---
class: inverse, center

# readxl 


```r
readxl::read_xlsx(path = "data/datasets_clasicos.xlsx", 
                  sheet = 1)
```

```
## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows
```

---
class: inverse, center

# readxl 


```r
readxl::read_xlsx(path = "data/datasets_clasicos.xlsx", 
                  sheet = 2)
```

```
## New names:
## * `` -&gt; ...1
```

```
## # A tibble: 32 x 12
##    ...1          mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # … with 22 more rows
```

---
class: inverse, center

# readxl 

### También podemos escoger por nombre


```r
readxl::read_xlsx(path = "data/datasets_clasicos.xlsx", 
                  sheet = "USarrests")
```

```
## # A tibble: 50 x 5
##    state       Murder Assault UrbanPop  Rape
##    &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1 Alabama       13.2     236       58  21.2
##  2 Alaska        10       263       48  44.5
##  3 Arizona        8.1     294       80  31  
##  4 Arkansas       8.8     190       50  19.5
##  5 California     9       276       91  40.6
##  6 Colorado       7.9     204       78  38.7
##  7 Connecticut    3.3     110       77  11.1
##  8 Delaware       5.9     238       72  15.8
##  9 Florida       15.4     335       80  31.9
## 10 Georgia       17.4     211       60  25.8
## # … with 40 more rows
```

---
class: inverse, center


```r
readxl::read_xlsx(path = "data/datasets_clasicos.xlsx", 
                  sheet = 4)
```

```
## New names:
## * `` -&gt; ...2
## * `` -&gt; ...3
## * `` -&gt; ...4
## * `` -&gt; ...5
```

```
## # A tibble: 51 x 5
##    `#this is a dataset of arrests in the USA` ...2   ...3    ...4     ...5 
##    &lt;chr&gt;                                      &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;
##  1 state                                      Murder Assault UrbanPop Rape 
##  2 Alabama                                    13.2   236     58       21.2 
##  3 Alaska                                     10     263     48       44.5 
##  4 Arizona                                    8.1    294     80       31   
##  5 Arkansas                                   8.8    190     50       19.5 
##  6 California                                 9      276     91       40.6 
##  7 Colorado                                   7.9    204     78       38.7 
##  8 Connecticut                                3.3    110     77       11.1 
##  9 Delaware                                   5.9    238     72       15.8 
## 10 Florida                                    15.4   335     80       31.9 
## # … with 41 more rows
```

### Se ve mal... 

---
class: inverse, center

### Tenemos que "saltarnos" la primera línea

```r
readxl::read_xlsx(path = "data/datasets_clasicos.xlsx", 
                  sheet = 4, 
                  skip = 1)
```

```
## # A tibble: 50 x 5
##    state       Murder Assault UrbanPop  Rape
##    &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1 Alabama       13.2     236       58  21.2
##  2 Alaska        10       263       48  44.5
##  3 Arizona        8.1     294       80  31  
##  4 Arkansas       8.8     190       50  19.5
##  5 California     9       276       91  40.6
##  6 Colorado       7.9     204       78  38.7
##  7 Connecticut    3.3     110       77  11.1
##  8 Delaware       5.9     238       72  15.8
##  9 Florida       15.4     335       80  31.9
## 10 Georgia       17.4     211       60  25.8
## # … with 40 more rows
```

### ¡Mucho mejor!
---
class: inverse, center, middle

### ¿que más tenemos en ese archivo? 

---
class: inverse, center

## Limpieza de headers: Janitor

.left[
### A veces tenemos datos con cabezales que no son limpios: espacios, símbolos raros, MayÚsCulaS MAL usadas...
]

### Cuando eso pasa, podemos usar janitor::clean_names

---
class: inverse, center


```r
my_genes &lt;- vroom::vroom("data/genes_500.txt")
```

```
## Rows: 499 Columns: 7
```

```
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: "\t"
## chr (4): Gene stable ID, Chromosome/scaffold name, Gene type, HGNC symbol
## dbl (3): Gene start (bp), Gene end (bp), Gene % GC content
```

```
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
```

```r
my_genes
```

```
## # A tibble: 499 x 7
##    `Gene stable ID` `Chromosome/scaffold name` `Gene start (bp)` `Gene end (bp)`
##    &lt;chr&gt;            &lt;chr&gt;                                  &lt;dbl&gt;           &lt;dbl&gt;
##  1 ENSG00000210049  MT                                       577             647
##  2 ENSG00000211459  MT                                       648            1601
##  3 ENSG00000210077  MT                                      1602            1670
##  4 ENSG00000210082  MT                                      1671            3229
##  5 ENSG00000209082  MT                                      3230            3304
##  6 ENSG00000198888  MT                                      3307            4262
##  7 ENSG00000210100  MT                                      4263            4331
##  8 ENSG00000210107  MT                                      4329            4400
##  9 ENSG00000210112  MT                                      4402            4469
## 10 ENSG00000198763  MT                                      4470            5511
## # … with 489 more rows, and 3 more variables: Gene % GC content &lt;dbl&gt;,
## #   Gene type &lt;chr&gt;, HGNC symbol &lt;chr&gt;
```

---
class: inverse, center


```r
my_genes &lt;- janitor::clean_names(dat = my_genes, 
                                 case = "snake")
my_genes
```

```
## # A tibble: 499 x 7
##    gene_stable_id  chromosome_scaff… gene_start_bp gene_end_bp gene_percent_gc_…
##    &lt;chr&gt;           &lt;chr&gt;                     &lt;dbl&gt;       &lt;dbl&gt;             &lt;dbl&gt;
##  1 ENSG00000210049 MT                          577         647              40.8
##  2 ENSG00000211459 MT                          648        1601              45.5
##  3 ENSG00000210077 MT                         1602        1670              42.0
##  4 ENSG00000210082 MT                         1671        3229              42.8
##  5 ENSG00000209082 MT                         3230        3304              38.7
##  6 ENSG00000198888 MT                         3307        4262              47.7
##  7 ENSG00000210100 MT                         4263        4331              29.0
##  8 ENSG00000210107 MT                         4329        4400              48.6
##  9 ENSG00000210112 MT                         4402        4469              45.6
## 10 ENSG00000198763 MT                         4470        5511              43.0
## # … with 489 more rows, and 2 more variables: gene_type &lt;chr&gt;,
## #   hgnc_symbol &lt;chr&gt;
```

---
class: inverse, center

.left[
## Cases:

### snake : snake_case
### screaming_snake : SERPIENTE_GRITONA
### lower_camel : camello_Jorobado
### upper_camel : Dromedario_Multijorobado
### lower_upper : algoASI
### upper_lower : ASItambien
]
 

---
class: inverse, center

## ¿Datos binarios? 

.left[
### saveRDS --&gt; RDS --&gt; Guarda un objeto  
### save --&gt; RData --&gt; Guarda objeto(s) en el espacio de trabajo, nombrado(s)
### save.image --&gt; RData --&gt; Guarda TODOS los objetos en el espacio de trabajo, nombrados
]
--

Los podemos leer con load (carga todo con los nombres con los que se escribió) 

o readRDS (lo asignamos)


---
class: inverse, center


```r
otro_iris_mas &lt;- iris
save(otro_iris_mas, file = "results/iris_forever.RData")
rm(otro_iris_mas)
otro_iris_mas
```

```
## Error in eval(expr, envir, enclos): object 'otro_iris_mas' not found
```


```r
load("results/iris_forever.RData")
otro_iris_mas
```

```
##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 1            5.1         3.5          1.4         0.2     setosa
## 2            4.9         3.0          1.4         0.2     setosa
## 3            4.7         3.2          1.3         0.2     setosa
## 4            4.6         3.1          1.5         0.2     setosa
## 5            5.0         3.6          1.4         0.2     setosa
## 6            5.4         3.9          1.7         0.4     setosa
## 7            4.6         3.4          1.4         0.3     setosa
## 8            5.0         3.4          1.5         0.2     setosa
## 9            4.4         2.9          1.4         0.2     setosa
## 10           4.9         3.1          1.5         0.1     setosa
## 11           5.4         3.7          1.5         0.2     setosa
## 12           4.8         3.4          1.6         0.2     setosa
## 13           4.8         3.0          1.4         0.1     setosa
## 14           4.3         3.0          1.1         0.1     setosa
## 15           5.8         4.0          1.2         0.2     setosa
## 16           5.7         4.4          1.5         0.4     setosa
## 17           5.4         3.9          1.3         0.4     setosa
## 18           5.1         3.5          1.4         0.3     setosa
## 19           5.7         3.8          1.7         0.3     setosa
## 20           5.1         3.8          1.5         0.3     setosa
## 21           5.4         3.4          1.7         0.2     setosa
## 22           5.1         3.7          1.5         0.4     setosa
## 23           4.6         3.6          1.0         0.2     setosa
## 24           5.1         3.3          1.7         0.5     setosa
## 25           4.8         3.4          1.9         0.2     setosa
## 26           5.0         3.0          1.6         0.2     setosa
## 27           5.0         3.4          1.6         0.4     setosa
## 28           5.2         3.5          1.5         0.2     setosa
## 29           5.2         3.4          1.4         0.2     setosa
## 30           4.7         3.2          1.6         0.2     setosa
## 31           4.8         3.1          1.6         0.2     setosa
## 32           5.4         3.4          1.5         0.4     setosa
## 33           5.2         4.1          1.5         0.1     setosa
## 34           5.5         4.2          1.4         0.2     setosa
## 35           4.9         3.1          1.5         0.2     setosa
## 36           5.0         3.2          1.2         0.2     setosa
## 37           5.5         3.5          1.3         0.2     setosa
## 38           4.9         3.6          1.4         0.1     setosa
## 39           4.4         3.0          1.3         0.2     setosa
## 40           5.1         3.4          1.5         0.2     setosa
## 41           5.0         3.5          1.3         0.3     setosa
## 42           4.5         2.3          1.3         0.3     setosa
## 43           4.4         3.2          1.3         0.2     setosa
## 44           5.0         3.5          1.6         0.6     setosa
## 45           5.1         3.8          1.9         0.4     setosa
## 46           4.8         3.0          1.4         0.3     setosa
## 47           5.1         3.8          1.6         0.2     setosa
## 48           4.6         3.2          1.4         0.2     setosa
## 49           5.3         3.7          1.5         0.2     setosa
## 50           5.0         3.3          1.4         0.2     setosa
## 51           7.0         3.2          4.7         1.4 versicolor
## 52           6.4         3.2          4.5         1.5 versicolor
## 53           6.9         3.1          4.9         1.5 versicolor
## 54           5.5         2.3          4.0         1.3 versicolor
## 55           6.5         2.8          4.6         1.5 versicolor
## 56           5.7         2.8          4.5         1.3 versicolor
## 57           6.3         3.3          4.7         1.6 versicolor
## 58           4.9         2.4          3.3         1.0 versicolor
## 59           6.6         2.9          4.6         1.3 versicolor
## 60           5.2         2.7          3.9         1.4 versicolor
## 61           5.0         2.0          3.5         1.0 versicolor
## 62           5.9         3.0          4.2         1.5 versicolor
## 63           6.0         2.2          4.0         1.0 versicolor
## 64           6.1         2.9          4.7         1.4 versicolor
## 65           5.6         2.9          3.6         1.3 versicolor
## 66           6.7         3.1          4.4         1.4 versicolor
## 67           5.6         3.0          4.5         1.5 versicolor
## 68           5.8         2.7          4.1         1.0 versicolor
## 69           6.2         2.2          4.5         1.5 versicolor
## 70           5.6         2.5          3.9         1.1 versicolor
## 71           5.9         3.2          4.8         1.8 versicolor
## 72           6.1         2.8          4.0         1.3 versicolor
## 73           6.3         2.5          4.9         1.5 versicolor
## 74           6.1         2.8          4.7         1.2 versicolor
## 75           6.4         2.9          4.3         1.3 versicolor
## 76           6.6         3.0          4.4         1.4 versicolor
## 77           6.8         2.8          4.8         1.4 versicolor
## 78           6.7         3.0          5.0         1.7 versicolor
## 79           6.0         2.9          4.5         1.5 versicolor
## 80           5.7         2.6          3.5         1.0 versicolor
## 81           5.5         2.4          3.8         1.1 versicolor
## 82           5.5         2.4          3.7         1.0 versicolor
## 83           5.8         2.7          3.9         1.2 versicolor
## 84           6.0         2.7          5.1         1.6 versicolor
## 85           5.4         3.0          4.5         1.5 versicolor
## 86           6.0         3.4          4.5         1.6 versicolor
## 87           6.7         3.1          4.7         1.5 versicolor
## 88           6.3         2.3          4.4         1.3 versicolor
## 89           5.6         3.0          4.1         1.3 versicolor
## 90           5.5         2.5          4.0         1.3 versicolor
## 91           5.5         2.6          4.4         1.2 versicolor
## 92           6.1         3.0          4.6         1.4 versicolor
## 93           5.8         2.6          4.0         1.2 versicolor
## 94           5.0         2.3          3.3         1.0 versicolor
## 95           5.6         2.7          4.2         1.3 versicolor
## 96           5.7         3.0          4.2         1.2 versicolor
## 97           5.7         2.9          4.2         1.3 versicolor
## 98           6.2         2.9          4.3         1.3 versicolor
## 99           5.1         2.5          3.0         1.1 versicolor
## 100          5.7         2.8          4.1         1.3 versicolor
## 101          6.3         3.3          6.0         2.5  virginica
## 102          5.8         2.7          5.1         1.9  virginica
## 103          7.1         3.0          5.9         2.1  virginica
## 104          6.3         2.9          5.6         1.8  virginica
## 105          6.5         3.0          5.8         2.2  virginica
## 106          7.6         3.0          6.6         2.1  virginica
## 107          4.9         2.5          4.5         1.7  virginica
## 108          7.3         2.9          6.3         1.8  virginica
## 109          6.7         2.5          5.8         1.8  virginica
## 110          7.2         3.6          6.1         2.5  virginica
## 111          6.5         3.2          5.1         2.0  virginica
## 112          6.4         2.7          5.3         1.9  virginica
## 113          6.8         3.0          5.5         2.1  virginica
## 114          5.7         2.5          5.0         2.0  virginica
## 115          5.8         2.8          5.1         2.4  virginica
## 116          6.4         3.2          5.3         2.3  virginica
## 117          6.5         3.0          5.5         1.8  virginica
## 118          7.7         3.8          6.7         2.2  virginica
## 119          7.7         2.6          6.9         2.3  virginica
## 120          6.0         2.2          5.0         1.5  virginica
## 121          6.9         3.2          5.7         2.3  virginica
## 122          5.6         2.8          4.9         2.0  virginica
## 123          7.7         2.8          6.7         2.0  virginica
## 124          6.3         2.7          4.9         1.8  virginica
## 125          6.7         3.3          5.7         2.1  virginica
## 126          7.2         3.2          6.0         1.8  virginica
## 127          6.2         2.8          4.8         1.8  virginica
## 128          6.1         3.0          4.9         1.8  virginica
## 129          6.4         2.8          5.6         2.1  virginica
## 130          7.2         3.0          5.8         1.6  virginica
## 131          7.4         2.8          6.1         1.9  virginica
## 132          7.9         3.8          6.4         2.0  virginica
## 133          6.4         2.8          5.6         2.2  virginica
## 134          6.3         2.8          5.1         1.5  virginica
## 135          6.1         2.6          5.6         1.4  virginica
## 136          7.7         3.0          6.1         2.3  virginica
## 137          6.3         3.4          5.6         2.4  virginica
## 138          6.4         3.1          5.5         1.8  virginica
## 139          6.0         3.0          4.8         1.8  virginica
## 140          6.9         3.1          5.4         2.1  virginica
## 141          6.7         3.1          5.6         2.4  virginica
## 142          6.9         3.1          5.1         2.3  virginica
## 143          5.8         2.7          5.1         1.9  virginica
## 144          6.8         3.2          5.9         2.3  virginica
## 145          6.7         3.3          5.7         2.5  virginica
## 146          6.7         3.0          5.2         2.3  virginica
## 147          6.3         2.5          5.0         1.9  virginica
## 148          6.5         3.0          5.2         2.0  virginica
## 149          6.2         3.4          5.4         2.3  virginica
## 150          5.9         3.0          5.1         1.8  virginica
```

---
class: inverse, center


```r
otro_iris_mas &lt;- iris
save.image(file = "results/sesion_01.RData")
```

### Borramos todo 

```r
otro_iris_mas &lt;- iris
rm(list=ls()) #¡cuidado con este comando!
otro_iris_mas
```

```
## Error in eval(expr, envir, enclos): object 'otro_iris_mas' not found
```

---
class: inverse, center


```r
load("results/sesion_01.RData")
otro_iris_mas %&gt;% head
```

```
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
```

```r
my_iris_vroom
```

```
## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows
```

---
class: inverse, center

```r
saveRDS(object = my_iris_vroom, 
        file = "results/my_iris_vroom.RDS"
        )

load("results/my_iris_vroom.RDS")
```

```
## Warning in readChar(con, 5L, useBytes = TRUE): truncating string with embedded
## nuls
```

```
## Warning: file 'my_iris_vroom.RDS' has magic number 'X'
##   Use of save versions prior to 2 is deprecated
```

```
## Error in load("results/my_iris_vroom.RDS"): bad restore file magic number (file may be corrupted) -- no data loaded
```

---
class: inverse, center


```r
my_iris_vroom_again &lt;- readRDS(file = "results/my_iris_vroom.RDS")
my_iris_vroom_again
```

```
## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows
```

---
class: inverse, center

# Todas los paquetes de lectura tienen su versión de escritura

### read.table  &lt;--&gt; write.table

### data.table::fread &lt;--&gt; data.table::fwrite

### vroom::vroom &lt;--&gt; vroom::vroom_write

---

class: inverse, center


```r
write.table(x = mtcars, 
            file = "results/otro_mtcars.txt", 
            sep = "\t", 
            quote = FALSE, 
            row.names = TRUE, 
            col.names = TRUE)
```

-- ¿Cómo se ve el archivo? ¿Qué pasa si cambio los parámetros? 

---
class: inverse, center

## Ejercicios:
.left[
- Leer y manipular el archivo: ``data/iris_esp.csv``
- Leer y manipular el archivo: ``mundiales_femenil.xlsx``
]


¿Qué acciones realizaron en cada caso?
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
